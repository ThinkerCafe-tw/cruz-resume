# AI Translation Workflow

ä½¿ç”¨ Gemini 2.5 Flash API è‡ªå‹•ç¿»è­¯å±¥æ­·å…§å®¹åˆ°å¤šç¨®èªè¨€ã€‚

## åŠŸèƒ½ç‰¹é»

- âœ… **å–®ä¸€çœŸç†ä¾†æº**: åªéœ€ç¶­è­·ç¹é«”ä¸­æ–‡ (zh-TW) åŸæ–‡
- ğŸ¤– **AI é©…å‹•ç¿»è­¯**: ä½¿ç”¨ Google Gemini 2.5 Flash é€²è¡Œé«˜å“è³ªç¿»è­¯
- ğŸŒ **å¤šèªè¨€æ”¯æ´**: è‡ªå‹•ç¿»è­¯è‡³è‹±æ–‡ã€æ—¥æ–‡ã€éŸ“æ–‡ã€é˜¿æ‹‰ä¼¯æ–‡
- ğŸ“ **åœ¨åœ°åŒ–æç¤ºè©**: æ¯ç¨®èªè¨€éƒ½æœ‰å°ˆå±¬çš„æ–‡åŒ–é©é…æç¤ºè©
- âœ… **çµæ§‹é©—è­‰**: è‡ªå‹•é©—è­‰ç¿»è­¯çµæœçš„ JSON çµæ§‹å®Œæ•´æ€§
- ğŸ’¾ **è‡ªå‹•å‚™ä»½**: ç¿»è­¯å‰è‡ªå‹•å‚™ä»½åŸå§‹æª”æ¡ˆ

## å®‰è£

### 1. å®‰è£ Python ä¾è³´

```bash
cd scripts
pip install -r requirements.txt
```

### 2. è¨­å®š API Key

è¤‡è£½ `.env.example` ç‚º `.env`ï¼š

```bash
cp ../.env.example ../.env
```

ç·¨è¼¯ `.env` ä¸¦å¡«å…¥ä½ çš„ Gemini API Keyï¼š

```env
GEMINI_API_KEY=your_actual_api_key_here
```

**å–å¾— API Key**: https://makersuite.google.com/app/apikey

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
python translate.py
```

é€™æœƒï¼š
1. è®€å– `data.json` ä¸­çš„ `zh-TW` åŸæ–‡
2. å‘¼å« Gemini API ç¿»è­¯è‡³ en, ja, ko, ar
3. é©—è­‰ç¿»è­¯çµæœçµæ§‹
4. è‡ªå‹•å‚™ä»½åŸæª”æ¡ˆåˆ° `data/backups/`
5. æ›´æ–° `data.json` ä¸­çš„å°æ‡‰èªè¨€å€å¡Š

### åŸ·è¡Œæµç¨‹

```
ğŸ“– Loading data from data.json...
âœ… Data loaded successfully (5 languages)
ğŸ“ Source language: zh-TW (12 sections)

============================================================
ğŸŒ Processing language: en
============================================================
ğŸ¤– Translating to en using Gemini gemini-2.0-flash-exp...
âœ… Translation to en completed
âœ… Structure validation passed
âœ… en translation completed and validated

[é‡è¤‡ ja, ko, ar...]

ğŸ’¾ Backup created: data/backups/data_20251101_123456.json
ğŸ’¾ Saving data to data.json...
âœ… Data saved successfully

============================================================
âœ… Translation completed successfully!
============================================================
ğŸ“Š Updated languages: en, ja, ko, ar
ğŸ’¾ Backup saved to: data/backups
```

## æª”æ¡ˆçµæ§‹

```
scripts/
â”œâ”€â”€ translate.py          # ä¸»ç¿»è­¯è…³æœ¬
â”œâ”€â”€ requirements.txt      # Python ä¾è³´
â”œâ”€â”€ prompts/             # åœ¨åœ°åŒ–æç¤ºè©
â”‚   â”œâ”€â”€ en.txt           # è‹±æ–‡ç¿»è­¯æç¤ºè©
â”‚   â”œâ”€â”€ ja.txt           # æ—¥æ–‡ç¿»è­¯æç¤ºè©
â”‚   â”œâ”€â”€ ko.txt           # éŸ“æ–‡ç¿»è­¯æç¤ºè©
â”‚   â””â”€â”€ ar.txt           # é˜¿æ‹‰ä¼¯æ–‡ç¿»è­¯æç¤ºè©
â””â”€â”€ README.md            # æœ¬æ–‡ä»¶

data/
â””â”€â”€ backups/             # è‡ªå‹•å‚™ä»½ç›®éŒ„
    â””â”€â”€ data_*.json      # æ™‚é–“æˆ³è¨˜å‚™ä»½æª”æ¡ˆ
```

## åœ¨åœ°åŒ–æç¤ºè©

æ¯ç¨®èªè¨€éƒ½æœ‰å°ˆå±¬çš„æç¤ºè©æª”æ¡ˆï¼Œç¢ºä¿ç¿»è­¯ç¬¦åˆç•¶åœ°æ–‡åŒ–èˆ‡å•†æ¥­æ…£ä¾‹ï¼š

- **è‹±æ–‡ (en.txt)**: è¥¿æ–¹å•†æ¥­é¢¨æ ¼ï¼Œç›´æ¥ã€ç°¡æ½”
- **æ—¥æ–‡ (ja.txt)**: æ—¥æœ¬å•†æ¥­æ•¬èªï¼Œè¬™è™›ã€ç¦®è²Œ
- **éŸ“æ–‡ (ko.txt)**: éŸ“åœ‹å•†æ¥­ç”¨èªï¼Œæ­£å¼ã€å°ˆæ¥­
- **é˜¿æ‹‰ä¼¯æ–‡ (ar.txt)**: é˜¿æ‹‰ä¼¯å•†æ¥­æ…£ä¾‹ï¼Œå³è‡³å·¦æ’ç‰ˆ

## éŒ¯èª¤è™•ç†

- âœ… å¦‚æœæŸå€‹èªè¨€ç¿»è­¯å¤±æ•—ï¼Œæœƒè·³éè©²èªè¨€ä¸¦ä¿ç•™åŸæœ‰å…§å®¹
- âœ… ç¿»è­¯å‰è‡ªå‹•å‚™ä»½ï¼Œå‡ºéŒ¯å¯å¾©åŸ
- âœ… çµæ§‹é©—è­‰å¤±æ•—æœƒé¡¯ç¤ºè©³ç´°éŒ¯èª¤è¨Šæ¯

## é…ç½®é¸é …

åœ¨ `translate.py` ä¸­å¯ä¿®æ”¹ï¼š

```python
# ç›®æ¨™èªè¨€
TARGET_LANGUAGES = ["en", "ja", "ko", "ar"]

# Gemini æ¨¡å‹
GEMINI_MODEL = "gemini-2.0-flash-exp"

# ç”Ÿæˆåƒæ•¸
GENERATION_CONFIG = {
    "temperature": 0.3,      # é™ä½å¯æé«˜ä¸€è‡´æ€§
    "top_p": 0.95,
    "max_output_tokens": 8192,
}
```

## æœ€ä½³å¯¦è¸

1. **æ›´æ–°æµç¨‹**:
   ```
   ä¿®æ”¹ zh-TW åŸæ–‡ â†’ æœ¬åœ°é è¦½ â†’ åŸ·è¡Œç¿»è­¯ â†’ æª¢æŸ¥çµæœ â†’ éƒ¨ç½²
   ```

2. **å‚™ä»½ç­–ç•¥**:
   - ç¿»è­¯å‰è‡ªå‹•å‚™ä»½
   - å®šæœŸæª¢æŸ¥ `data/backups/` ä¸¦æ¸…ç†èˆŠå‚™ä»½

3. **æ¼¸é€²å¼ç¿»è­¯**:
   - å¯ä¿®æ”¹ `TARGET_LANGUAGES` åªç¿»è­¯ç‰¹å®šèªè¨€
   - é™ä½ API å‘¼å«æˆæœ¬

## æˆæœ¬ä¼°ç®—

- **Gemini 2.5 Flash API**: å…è²»é¡åº¦æ¯åˆ†é˜ 15 æ¬¡è«‹æ±‚
- **ä¼°è¨ˆæˆæœ¬**: å®Œæ•´ç¿»è­¯ 4 ç¨®èªè¨€ç´„ 4 æ¬¡ API å‘¼å«
- **å»ºè­°**: åœ¨å…è²»é¡åº¦å…§ä½¿ç”¨

## æ•…éšœæ’é™¤

### å•é¡Œï¼šæ‰¾ä¸åˆ° GEMINI_API_KEY

```
âŒ Error: GEMINI_API_KEY not found in environment variables
```

**è§£æ±º**:
1. ç¢ºèª `.env` æª”æ¡ˆå­˜åœ¨
2. ç¢ºèª `.env` ä¸­æœ‰ `GEMINI_API_KEY=...`
3. é‡æ–°åŸ·è¡Œè…³æœ¬

### å•é¡Œï¼šJSON è§£æå¤±æ•—

```
âŒ Failed to parse Gemini response as JSON
```

**è§£æ±º**:
1. æª¢æŸ¥ Gemini API å›æ‡‰ï¼ˆæœƒé¡¯ç¤ºå‰ 200 å­—å…ƒï¼‰
2. å¯èƒ½éœ€è¦èª¿æ•´æç¤ºè©ï¼Œè¦æ±‚æ›´åš´æ ¼çš„ JSON æ ¼å¼
3. é™ä½ `temperature` åƒæ•¸æé«˜ç©©å®šæ€§

### å•é¡Œï¼šçµæ§‹é©—è­‰å¤±æ•—

```
âŒ Missing keys in translation: {...}
```

**è§£æ±º**:
1. æª¢æŸ¥å“ªäº› key éºå¤±
2. èª¿æ•´æç¤ºè©å¼·èª¿ä¿ç•™çµæ§‹
3. æ‰‹å‹•è£œå……éºå¤±çš„å…§å®¹

## é€²éšä½¿ç”¨

### åªç¿»è­¯ç‰¹å®šèªè¨€

ä¿®æ”¹ `translate.py`:

```python
TARGET_LANGUAGES = ["en"]  # åªç¿»è­¯è‹±æ–‡
```

### è‡ªè¨‚æç¤ºè©

ç·¨è¼¯ `prompts/*.txt` æª”æ¡ˆï¼Œèª¿æ•´ç¿»è­¯é¢¨æ ¼å’Œè¦æ±‚ã€‚

### Dry Run æ¨¡å¼

åœ¨ `main()` å‡½æ•¸ä¸­è¨»è§£æ‰ `save_data()` è¡Œï¼ŒåªåŸ·è¡Œç¿»è­¯ä¸å„²å­˜ï¼š

```python
# save_data(data, backup=True)  # è¨»è§£æ‰
print("Dry run mode: not saving")
```

## æˆæ¬Š

MIT License
